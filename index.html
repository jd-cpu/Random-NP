<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>랜덤 Post-test 퀴즈</title>

  <!-- 캐시 방지 (HTML 자체는 매번 새로 요청하도록 유도) -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <!-- (선택) manifest에 버전 붙여서 PWA 캐시 최소화 -->
  <link rel="manifest" href="manifest.json?v=20250810">

  <style>
    body { font-family: Arial, sans-serif; text-align:center; padding:20px; max-width:700px; margin:auto; }
    #question, #answer { white-space: pre-line; margin: 18px 0; font-size:1.15rem; }
    button { padding:10px 18px; margin:6px; font-size:1rem; cursor:pointer; }
    #answer { color: #0a6; font-weight:600; display:none; }
  </style>
</head>
<body>
  <h1>랜덤 Post-test 퀴즈</h1>

  <div id="question">문제를 불러오는 중...</div>
  <div id="answer"></div>

  <div>
    <button id="btnShow">정답 보기</button>
    <button id="btnNext">다음 문제</button>
  </div>

  <script>
    // ===== 문제 목록 (여기에 문제/정답 추가) =====
    // 줄바꿈은 문자열 안에서 \n 또는 백틱(``) 사용 가능
    const questions = [
            { q: "도파민을 주된 신경전달물질로 사용하는 4개의 신경 경로를 기술하시오.", a: "Nigrostriatal, mesocortical, mesolimbic, tuberoinfundibular pathway" },
            { q: "Piaget의 인지 발달 4단계를 쓰고 해당하는 나이와 특징을 약술하시오.", a: "감각운동기(출생-2세, 감각적 관찰, 운동기능 조절) \n전조작기(2-7세, semiotic function) \n구체적 조작기(7-12세, 현실 인식, 조작적 사고, 외부 정보에 주의 기울임, 타인의 관점에서 사물 봄) \n형식적 조작기(12세-후기 청소년기, 논리적, 체계적, 추상적 사고, 연역적 추리)" },
            { q: "프로이트가 ‘구조 이론(structural theory)'에서 소개한 이드(id), 자아(ego), 초자아(superego)의 기능에 대해 약술하시오.", a: "이드: 본능적 욕구, 즉각 만족 원함, 무의식의 대부분, 심리적 현상의 에너지 공급원 \n자아: 현실원칙 입각, 모든 정신현상 총괄, 이드와 현실 사이 타협 추구, 이드와 초자아 사이에서 갈등 \n초자아: 양심, 이상 추구" },
            { q: "에릭 에릭슨은 정신사회 발달 이론에서 자아의 발달단계를 여덟 단계로 구분하여 설명하였다. 각 단계별 발달과제를 쓰시오.", a: "유아기(신뢰vs불신) \n초기 아동기(자율성vs수치심) \n후기 아동기(주도성vs죄책감) \n학령기(근면성vs열등감) \n청소년기(정체성 확립vs혼란) \n청년기(친밀감vs소외감) \n중년기(생산성vs정체감) \n노년기(통합성vs절망감)" },
            { q: "정신상태검사시 평가하는 기본적인 영역은 다음과 같다. \n외모(general appearance) 및 행동(behavior)과 태도(attitude), 운동 활동(motor activity), 기분(mood)과 정동표현(affect expression), 말(speech), 지각(perception), 사고(thought), 감각(sensorium)과 인지(cognition), 판단(judgement)과 병식(insight) \n기분(mood)과 정동(affect)의 개념에 대해 간략하게 설명하시오.", a: "기분: 지배적&지속적 감정, 주관적이므로 말로 잘 표현됨 \n정동: 표현 행동(얼굴 표정 등)을 근거로 추정되는 감정, 임상가의 시선, 기분과 일치할 수도 아닐 수도, 감정의 quality, quantity, congruence, appropriateness, range로 기술" },
            { q: "주의력결핍 과잉행동장애(attention deficit hyperactivity disorder, ADHD)의 DSM-5 진단기준에서 \n1)부주의와 2)과잉행동-충동성에 해당하는 증상을 각각 2가지 이상 쓰시오. ", a: "부주의: 지속 집중 어려움, 일 잘 못 끝냄 \n과잉행동-충동성: 자리에 못 앉아있음, 말 너무 많음" },
            { q: "ADHD의 치료에서 1) 약물치료로 국내에서 가장 흔하게 사용되고 있는 약물과 \n2) ADHD 아동의 심리사회적 치료 중 비교적 치료효과가 검증된 방법을 쓰시오.", a: "Methylphenidate, 부모교육" },
            { q: "틱(tic)이란 짧고 반복적이고 갑작스럽고 상동적이며 상대적으로 불수의적인 근육의 수축을 의미한다. \n1)틱과 감별을 해야할 이상운동 증상(3가지 이상)과, 2) 투렛장애(음성틱과 운동틱이 1년 이상 있을 경우)에서 가장 흔하게 동반되는 정신장애를 쓰시오.", a: "1) 근긴장성 이상운동, 근간대성 이상운동, 편측무도증, 편측 안면경련, 강박행동, 아테토이드 이상운동, 무도증 \n2) 전조감각충동" },
            { q: "조현병의 DSM-5 진단기준에서 1개월 동안 상당 부분의 시간에 존재해야 하는 증상 중, 진단을 위해 최소 하나 이상 포함해야하는 증상 3가지를 쓰시오.", a: "망상, 환각, 와해된 언어" },
            { q: "조현병에서 보이는 대표적인 사고과정의 장애인 1) 연상 이완(loosening of association)의 개념을 쓰고, \n연상 이완의 한 형태인 2) 우원증(circumstantiality)과 3) 사고이탈(tangentiality)에 대해 약술하시오.", a: "1) 연상 이완: 생각이 한 주제에서 연관성 없는 다른 주제로 진행 \n2) 우원증: 말하고자 하는 바를 직접적으로 말하지 않고 불필요하게 주석 붙이다가 결론에는 도달 \n3) 사고의 이탈: 우원증보다 심함, 결론에도 도달하지 못함" },
            { q: "조현병의 신경생화학적 요인 중 증상 발현에 주로 관여한다고 제시되는 신경전달물질 3가지를 쓰시오.", a: "Dopamine, Serotonin, Glutamate" },
            { q: "조현병 치료의 일반 원칙 중, 1) 핵심 치료 목표와 2) 가장 효과적이고 중요한 치료 방법에 대해 쓰시오.", a: "1) 정신증상 조절, 재발 방지, 사회/직업 기능 유지 2) 항정신병약물 투여" },
            { q: "조현병 환자의 약물치료 시 비정형 항정신병약물이 일차 약물로 권장된다. 정형 항정신병약물에 비해 비정형 항정신병약물이 가진 장점에 대해 기술하시오(4가지).", a: "추체외로 부작용 적음, 인지기능 부작용 적음, 음성&우울 증상에 효과 좋음, 만족도&순응도 높음" },
            { q: "조현병 환자의 약물치료 시 1) 장기 지속형 주사제 사용이 권장되는 경우와 2) 장기 지속형 주사제의 단점(2가지)에 대해 쓰시오.", a: "1) 투약 순응도가 낮거나 그럴 것으로 예상되는 환자(재발 방지 위함) \n2) 약물 중단 시 체내에서 제거되는 데 시간이 오래 걸려 부작용 대처 어려움, 경구 약물로 안정화된 뒤 주사로 전환해야 하므로 급성기 치료에 부적합" },
            { q: "항정신병 약물의 도파민 수용체에 대한 작용으로 1) 추체외로 부작용, 2) 프로락틴 호르몬 증가 및 무월경, \n3) 음성 증상의 악화 및 인지 기능의 저하가 발생하는 것으로 알려져 있다. 각 부작용에 관여하는 도파민 작용 신경 경로를 쓰시오.", a: "1) Nigrostriatal pathway \n2) Tuberoinfundibular pathway \n3) Mesocortical pathway" },
            { q: "항정신병 약물의 추체외로 부작용을 4개만 쓰시오. (같은 증상을 급성과 만성 2개로 나누어 적을 경우 1개로 간주하여 채점함)", a: "파킨슨증후군, 근육긴장이상증, 좌불안석증, 지연성이상운동" },
            { q: "조현병의 예후에 영향을 주는 인자들은 1) 환자의 특성, 2) 발병 당시의 특성, 3) 질병 경과 중 보이는 특성으로 대별할 수 있다. \n나쁜 예후 인자를 각 특성별로 2개 이상 기술하시오.", a: "1) 나쁜 병전 기능, 미혼/이혼/나쁜 사회지지체계, 가족력, 신경학적 증상/뇌구조 이상 \n2) 이른 나이 발병, 잠행성 발병/긴 전구기, 유발인자 없음, 두드러진 음성증상, 긴 DUP, 신경인지기능 저하 \n3) 잔류 정신증상, 나쁜 순응도, 공존 우울/강박, 잦은 재발, 알코올/약물 남용, 가족의 감정 표출" },
            { q: "정신병적 증상이 다른 의학적 상태의 직접적인 병태생리의 결과라는 증거가 신체검진 또는 검사소견에서 드러나는 경우 다른 의학적 상태로 인한 정신병적 장애로 진단할 수 있다. \n정신병적 증상을 동반하는 신체 및 신경계 질환을 6개 이상 쓰시오.", a: "에디슨병, 쿠싱병, 알츠하이머병, 피크병, 헌팅턴병, 다발경화증, \n뇌종양, 뇌혈관질환, 두부외상, 뇌전증, 일산화탄소중독, 전신홍반루푸스, 뇌염, 신경매독, CJD, \n저나트륨혈증, 고칼슘혈증, 티아민 결핍(베르니케-코르사코프 증후군), 비타민 B12 결핍" },
            { q: "DSM-5 진단기준에 의거하여 조증 삽화 진단시 들뜨거나 의기양양한 기분에 3가지 이상 동반되어야 하는 증상들을 쓰시오(진단 기준에 있는 7가지 중 4개 이상 쓰면 정답으로 인정함).", a: "자존감/자신감 과잉, 수면욕 감소, 말 많아짐, 사고의 비약, 관찰되는 주의산만, 목표 지향적 활동의 증가/정신운동초조, 고통스런 결과 초래하는 활동에 몰두" },
            { q: "양극성 장애의 원인은 명확하게 밝혀지지 않았으나, 전반적으로 하나의 요인보다는 유전적, 생물학적, 정신사회적 여러 요인들이 복합적으로 작용하여 발생한다고 본다. \n이중 생물학적 요인에 대해 약술하시오.", a: "Monoamine NT(NE, dopamine)과 관련, limbic system과 frontal lobe 변화, 일주기 리듬과 연관된 생물학적 부위의 관여, 점화(kindling)와 같은 전기 생리학적 현상" },
            { q: "양극성 장애에서 좋지 않은 경과 및 예후를 예측할 수 있는 인자에 대해 4가지 이상 쓰시오.", a: "이른 나이의 발병, 잦은 삽화 횟수와 순환, 나쁜 병전 기능, 낮은 순응도, 스트레스, 물질 남용, 정신병적 증상/발병 유형" },
            { q: "현재 우울삽화에 있는 환자에서 양극성을 예측할 수 있는 임상양상에 대해 기술하시오(5가지 이상).", a: "이른 나이의 발병, 25세 이상의 정신병적 우울, 정신병적 양상이 주로 동반되는 산후우울, 짧은 기간동안 생겼다 사라지는 우울삽화, \n5회 이상의 반복적 우울증, 정신운동지체가 현저한 우울증, 비전형적 우울양상, 계절성의 존재, \n양극성장애의 가족력, 항우울제 인해 경조증 유발되는 경우, 3가지 이상의 항우울제에 효과 없음, 혼재성 우울" },
            { q: "조증 삽화를 유발할 수 있는 2차적 원인을 1)내과 및 신경과적 질환과 2)약물로 나누어 각각 3가지 이상 기술하시오.", a: "1) Epilepsy, Huntington's disease, migrane, multiple sclerosis, neoplasm, Wilson's disease, thyroid disorders \n2) Amphetamines, antidepressants, cocaine, corticosteroids, isoniazid, levodopa, methylphenidate" },
            { q: "양극성 장애에서 급성 조증 삽화의 약물 치료", a: "Lithium, valproate, 비정형 항정신병약물" },
            { q: "양극성 우울증의 1차 약물로 권장되는 것을 3개만 쓰시오.", a: "Lithium, Lamotrigine, Quetiapine" },
            { q: "DSM-5에서 주요우울장애를 진단하기 위한 1) 핵심 증상 2가지와 이외에도 진단을 위해 2주 이상 지속되어야 한다고 2) 진단기준 A에 명시된 증상들을 3개 이상 쓰시오.", a: "1) 우울 기분, 흥미나 즐거움의 상실 \n2) 체중/식욕 증감, 불면/과다수면, 정신운동초조/지연, 피로, 무가치감/부적절한 죄책감, 집중력 감소, 자살사고" },
            { q: "주요우울장애의 원인으로 생물학적 요인들이 다수 제기되고 있다. \n신경생화학적 요인 중 세로토닌의 기능 이상이 우울장애와 연관성이 있다는 증거 소견을 2가지 쓰시오.", a: "뇌척수액 5-HIAA(세로토닌 대사물) 농도 감소 및 혈소판 세로토닌 농도 감소, \nSSRI의 우울장애에 대한 우수한 효과" },
            { q: "선택적 세로토닌 재흡수 억제제(selective serotonin reuptake inhibitors, SSRIs)에 속하는 약물의 이름을 4개 이상 나열하고, \n이중에서 1) 반감기가 가장 길어서 약물 중단에 따른 이상 반응이 적다는 이점을 가진 약물과 \n2) 불안 증상을 가진 환자에 선호되는 것을 각각 쓰시오.", a: "Fluoxetine, fluvoxamine, sertraline, paroxetine, (es)citalopram, \n1) fluoxetine 2) paroxetine" },
            { q: "주요우울장애의 비약물학적 생물치료에 속하는 치료방법들을 4개 이상 쓰시오.", a: "ECT, TMS, 심부뇌자극술, 미주신경자극술" },
            { q: "정상적 불안과 병적 불안에 대해 기술하시오.", a: "정상불안: 위험상황에 처했을 때 \n병적불안: 위험상황이 아닌 경우 불안에 대한 신체반응 나타나거나 지나침" },
            { q: "공황발작의 개념에 대해 기술하고, 신체적 증상 및 정신적 증상을 각 1개 이상 쓰시오.", a: "개념: 갑작스럽게 심한 공포나 불편함이 수분 내 최고조, 이 동안 신체적&정신적 증상 \n신체적 증상: 빈맥, 심장의 두근거림, 호흡곤란, 발한 \n정신적 증상: 극심한 불안, 죽을 것 같은 두려움, 정신을 잃을 것 같은 두려움" },
            { q: "공황장애 진단에 중요한 증상 3가지", a: "반복적 공황발작, 예기불안, 회피행동" },
            { q: "공황장애 인지행동치료를 구성할 때 포함할 것 3가지를 쓰시오.", a: "정신교육, 인지재구조화, 노출" },
            { q: "공황장애의 약물치료 전략에 대해 약술하시오.", a: "공황발작 반복 줄이기, 예기불안과 회피행동 감소, 우울증과 같은 공존질환 치료 \n약물: SSRI(1st line), BDZ(부작용 있어 장기사용 주의) \n효과는 3개월 후 평가, 효과 나타난 후에도 6개월간 치료 지속, 재발 잦아 12-24개월 유지치료" },
            { q: "문제 3", a: "정답 3" }
        ];
    // ============================================

    // 현재 인덱스 (초기값 -1 : 아직 선택된 문제 없음)
    let currentIndex = -1;

    // 새 랜덤 인덱스 반환 (직전 인덱스와 중복 방지)
    function pickRandomIndex() {
      if (questions.length === 0) return -1;
      if (questions.length === 1) return 0;
      let idx;
      do {
        idx = Math.floor(Math.random() * questions.length);
      } while (idx === currentIndex);
      return idx;
    }

    function showQuestionByIndex(i) {
      if (i < 0 || i >= questions.length) {
        document.getElementById('question').innerText = "문제가 없습니다.";
        document.getElementById('answer').style.display = 'none';
        document.getElementById('answer').innerText = "";
        return;
      }
      document.getElementById('question').innerText = questions[i].q;
      document.getElementById('answer').innerText = questions[i].a;
      document.getElementById('answer').style.display = 'none';
    }

    function nextQuestion() {
      const newIndex = pickRandomIndex();
      currentIndex = newIndex;
      showQuestionByIndex(currentIndex);
    }

    function showAnswer() {
      if (currentIndex === -1) return;
      document.getElementById('answer').style.display = 'block';
    }

    // 버튼 이벤트 연결
    document.getElementById('btnShow').addEventListener('click', showAnswer);
    document.getElementById('btnNext').addEventListener('click', nextQuestion);

    // 페이지 로드 시 첫 문제 즉시 랜덤 선택
    nextQuestion();

    // 디버깅용: 콘솔에 현재 배열·인덱스 확인 가능
    // console.log('questions:', questions);
  </script>
</body>
</html>
